# Инструкция по Git

## Что такое Git и зачем он нужен?
*Git - это консольная утилита, для отслеживания и ведения истории изменения файлов, в вашем проекте. Чаще всего его используют для кода, но можно и для других файлов.*

*С помощью Git-a вы можете откатить свой проект до более старой версии, сравнивать, анализировать или сливать свои изменения в репозиторий.*

*Репозиторием называют хранилище вашего кода и историю его изменений. Git работает локально и все ваши репозитории хранятся в определенных папках на жестком диске.*

## Установка
* *Windows. Проходим по [этой ссылке](https://git-scm.com/download/win "Download for Windows"), выбираем под вашу ОС (32 или 64 битную), скачиваем и устанавливаем.*

* *Для Mac OS. Открываем терминал и пишем:*

> <span style="color:gray">#Если установлен Homebrew</span>\
> brew install git\
> <span style="color:gray">#Если нет, то вводим эту команду.</span>\
> git --version\
> <span style="color:gray">#После этого появится окно, где предложит установить Command Line Tools (CLT).</span>.\
> <span style="color:gray">#Соглашаемся и ждем установки. Вместе с CLT установиться и git</span>.

* Linux. Открываем терминал и вводим следующую команду.

> <span style="color:gray"># Debian или Ubuntu</span>\
> sudo apt install git\
> <span style="color:gray"># CentOS</span>\
> sudo yum install git

## Настройка
*Вы установили себе Git и можете им пользоваться. Давайте теперь его настроим, чтобы когда вы создавали commit, указывался автор, кто его создал.*

*Открываем терминал (Linux и MacOS) или консоль (Windows) и вводим следующие команды.*

> <span style="color:gray">#Установим имя для вашего пользователя\
#Вместо <ваше_имя> можно ввести, например, Grisha_Popov\
#Кавычки оставляем</span>\
git config --global user.name "<ваше_имя>"\
<span style="color:gray">#Теперь установим email. Принцип тот же.</span>\
git config --global user.email "<адрес_почты@email.com>"

## Создание репозитория
*Теперь вы готовы к работе с Git локально на компьютере.*

*Создадим наш первый репозиторий. Для этого пройдите в папку вашего проекта.*

> <span style="color:gray">#Для Linux и MacOS путь может выглядеть так /Users/UserName/Desktop/MyProject\
#Для Windows например С://MyProject</span>\
cd <путь_к_вашему_проекту>
>
> <span style="color:gray">#Инициализация/создание репозитория</span>\
git init

*Теперь Git отслеживает изменения файлов вашего проекта. Но, так как вы только создали репозиторий в нем нет вашего кода. Для этого необходимо создать commit.*

> <span style="color:gray">#Добавим все файлы проекта в нам будующий commit</span>\
git add \
<span style="color:gray">#Или так</span>\
git add --all
>
><span style="color:gray">#Если хотим добавить конкретный файл то можно так</span>\
git add <имя_файла> 
>
><span style="color:gray">#Теперь создаем commit. Обязательно указываем комментарий.\
#И не забываем про кавычки</span>\
git commit -m "<комментарий>"
>
><span style="color:gray">#Для того чтобы посмотреть текущее состояние ветки, например, какие файлы добавлены или не добавлены для создания commit, можно выполнить команду:</span>\
git status

*Отлично. Вы создали свой первый репозиторий и заполнили его первым commit.*

# Ветвление
*Представим, что вы с друзьями придумали проект, с "блэкджеком" и ... Вы разделили обязанности. Кто-то будет делать авторизацию и регистрацию, а кто-то функционал вывода новостей. Для этого вам пригодится ветвление.*

**Ветка** - *это набор commit, которые идут друг за другом. У ветки есть название, основную ветку чаще всего называют master. Если говорить простыми словами, то ветка master - это наш проект.*

**Другие ветки** - *это отдельное место для реализации нового функционала или исправление багов (ошибок) нашего проекта. То есть, с отдельной веткой вы делаете что угодно, а затем сливаете эти изменения в основную ветку master.*

*Не рекомендую создавать commit напрямую в master. Лучше для этого заводить новую ветку и все изменения писать там.*

*Для того, чтобы создать новую ветку вводим:*
>git branch <название_ветки>
>
><span style="color:gray">#или вот так</span>
>
>git checkout -b <название_ветки>

*Эти команды делают тоже самое, только второй вариант позволяет сразу переключиться в новую ветку. Вносить изменения в новую ветку можно сразу после ее создания.*

*При создании новой ветки, старайтесь называть ее кратким и ёмким именем. Чтобы сразу было понятно, что именно изменялось по проекту. Если вы используете, какую-нибудь систему для ведения задач, то можете в начале названия ветки указывать ID задачи, чтобы можно было легко найти, на основе какой задачи была создана ветка. Например вот так:*

>3424_fix_catalog_ajax

*В каждом новом commit следует оставлять коммент и в нем описывать суть изменений.*

*Переключаться между ветками можно такой командой:*

>git checkout <название_ветки>

*После того, как вы завершили работу над своей задачей, ветку можно слить в **master** . Для этого нужно переключиться в ветку **master** и выполнить следующую команду:*

><span style="color:gray">#Переключаемся в master</span>\
git checkout master\
<span style="color:gray">#Обновляем локальную ветку с сервера</span>\
git pull origin master

><span style="color:gray">#Делаем merge вашей ветки, в ветку в которой вы находитесь</span>\
<span style="color:gray">#В данном примере это master</span>\
git merge <название_ветки>

## Работа с конфликтами
*Я намеренно создал конфликт в ветке conflict удалив и изменив некоторые строки. В первом случае, когда я просто удалил несколько строк, и попытался сделать merge, у меня все получилось, и гит не ругался. После чего пришлось откатывать на предыдущий коммит, создавать новую ветку temporary, чтобы перекинуть эти изменения туда, так как я получал сообщения о том, что **"head detached from commit"**, и смерджил все это обратно в мастер, тем самым вернув его к состоянию, до неудачного мерджа.*

*Далее уже не просто удалил несколько строк, а заменил их. Тем самым у меня получился полноценный конфликт. Скриншот ниже.*

*Для разрежения конфликта, гитом было предложено несколько вариантов его решения*

* Accept Current Change
* Accept Incoming Change
* Accept Both Changes
* Compare Changes


![conflict](conflict.png)

>*Accept Current Change\
  <span style=color:gray>#Позволяет оставить изменения которые были в текущем файле, без замены их на те, которые мы пытаемся влить из другой ветки.*</span>
>
  >*Accept Imcoming Change\
  <span style=color:gray>#Позволяет перезатереть изменения сделанные в нашем файле теми, что были сделаны в другой ветке.*</span>
>
  >*Accept Both Changes\
  <span style=color:gray>#Позволяет залить изменения из другой ветки, сохранив при этом и те изменения что уже были в файле, и те, что были в другой ветке.*</span>
>
  >*Compare Changes\
  <span style=color:gray>#Позволяет сравнить изменения, но в моем случае все и так было довольно очевидно.*</span>

  *Я использовал **Accept Current Change**, так как у меня ветка конфликт была создана просто для создания конфликта, и написана там была просто какая-то абра - кадабра, что в принципе отлично отображено на приложенном скрине.*

  *После того, как конфликт разрешен, мы его коммитим.*

  ## Работа с удаленными репозиториями

  *Для создания удаленного репозитория достаточно нажать кнопку **+** в правом верхнем углу на GitHub, далее у нас будет выбор, сделать репозиторий приватным или публичным, сгенерировать автоматически README, или .gitIgnore, и выбрать лицензию. Нажимаем зеленую кнопку внизу **Create repository**, и удаленный репозиторый готов к использованию.*

  *Далее GitHub сам подскажет что нужно сделать, для того, чтобы привязать наш локальный репозиторий к удаленному, или же создать новый локальный и привязать его к удаленному*

…or create a new repository on the command line
>echo "# test" >> README.md
>git init\
>git add README.md\
>git commit -m "first commit"\
>git branch -M main\
>git remote add origin https://github.com/RomanGunger/test.git\
>git push -u origin main

…or push an existing repository from the command line
>git remote add origin https://github.com/RomanGunger/test.git\
>git branch -M main\
>git push -u origin main

*Все просто, вводим команды, что предлагает нам GitHub в терминале у себя в VSCode и получаем связанный локальный репозиторий с удаленным*

*Дальше коммитим как и раньше, и для того чтобы отправить наши изменения на удаленный репозиторий используем команду **git push***

*Так же можно клонировать публичные репозитории других авторов с GitHub, для этого переходим в интересующий нас репозиторий на GitHub и нажимаем кнопку **Fork**. После чего мы получаем копию этого репозитория, только уже в своем репозитории, но с указанием авторства. Скопировав репозиторий таким образом, он останется привязанным к своему автору.*

*Далее, копируем ссылку на репозиторий, у меня в терминале VScode вводим команду **git clone repository_adress** и продолжаем работать с ним как обычно.*

*После того как мы запушим изменения, GitHub предложит нам сделать Pull Request, если мы хотим поделиться с автором репозитория нашей работой, то мы можем этим возпользоваться.*

  ## Заключение и ссылки

Вся информация для первой домашки была взята с [Git для новичков (часть 1)](https://habr.com/ru/articles/541258/), [Git для новичков (часть 2)](https://habr.com/ru/articles/542616/)

Документация по Markdown [Basic Syntax](https://www.markdownguide.org/basic-syntax/#code)

 
